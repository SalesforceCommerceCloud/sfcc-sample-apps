<!--
    Copyright (c) 2020, salesforce.com, inc.
    All rights reserved.
    SPDX-License-Identifier: BSD-3-Clause
    For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause
-->
<template>
    <div class='container search-results'>
        <div class='row'>
            <div class='tab-content col-12'>
                <div class='tab-pane container active' id='product-search-results' aria-expanded='true'>
                    <template if:false={loading}>
                        <div class='row' if:true={hasProducts}>
                            <div class={refinementBar}>
                                <div class="filter-header">
                                    <div class="header-bar d-md-none clearfix">
                                        <div class="pull-left d-md-none result-count">
                                            {products.length} Results
                                        </div>
                                        <button class="pull-right close" onclick={toggleRefinementBarHandler}>
                                            <span>Close </span>
                                            <i class="fa fa-close"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class='secondary-bar'>
                                    <div class='reset btn btn-block btn-outline-primary' onclick={resetRefinements}>
                                        Reset
                                    </div>
                                </div>

                                <aside>
                                    <div class='refinements'>
                                        <template for:each={refinementgroups} for:item="refinementgroup">
                                            <commerce-refinement-group ontogglerefinement={toggleRefinementHandler}
                                                                       key={refinementgroup.label}
                                                                       refinementgroup={refinementgroup}>
                                            </commerce-refinement-group>
                                        </template>
                                    </div>
                                </aside>
                            </div>

                            <div class='col-sm-12 col-md-9 product-list-grid'>
                                <div class='container'>
                                    <commerce-product-list ontogglerefinementbar={toggleRefinementBarHandler}
                                                          onupdatesort={updateSortHandler}
                                                          products={products}>
                                    </commerce-product-list>
                                </div>
                            </div>
                        </div>
                    </template>

                </div>
            </div>
        </div>
    </div>
</template>

