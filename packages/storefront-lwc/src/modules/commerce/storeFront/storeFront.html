<template>
    <lwce-router>
        <commerce-layout>
            <commerce-header query={query} slot="header"></commerce-header>

            <template if:false={hasError}>
                <lwce-route path="/" exact>
                    <commerce-home></commerce-home>
                </lwce-route>
                <lwce-route path="/search/:query">
                    <commerce-product-search-results onquerychange={updateQuery}></commerce-product-search-results>
                </lwce-route>
                <lwce-route path="/basket">
                    <commerce-basket></commerce-basket>
                </lwce-route>
                <lwce-route path="/product/:pid">
                    <commerce-product-detail></commerce-product-detail>
                </lwce-route>
                <lwce-route default>
                    <h1 style="color: black;">404 Not found</h1>
                </lwce-route>
            </template>
            <h1 if:true={hasError} style="color: black;">Fatal error please try again!</h1>
        </commerce-layout>
    </lwce-router>
</template>