<!--
    Copyright (c) 2020, salesforce.com, inc.
    All rights reserved.
    SPDX-License-Identifier: BSD-3-Clause
    For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause
-->
<template>
    <form class="login" method="POST" name="login-form">
        <div class="form-group required">
            <label class="form-control-label" for="login-form-email">
                Email
            </label>
            <input onchange={handleChange}
                   type="email"
                   id="login-form-email"
                   required="" aria-required="true"
                   class="form-control required"
                   name="loginEmail"
                   value={formData.loginEmail.value} >
            <template for:each={formData.loginEmail.errors} for:item="error">
                <div key={error.id} class="invalid-feedback">{error.message}</div>
            </template>
        </div>

        <div class="form-group required">
            <label class="form-control-label" for="login-form-password">
                Password
            </label>
            <input onchange={handleChange}
                   type="password"
                   id="login-form-password"
                   required=""
                   aria-required="true"
                   class="form-control required"
                   name="loginPassword"
                   value={formData.loginPassword.value} >
            <template for:each={formData.loginPassword.errors} for:item="error">
                <div key={error.id} class="invalid-feedback">{error.message}</div>
            </template>
        </div>

        <div class="clearfix">
            <div class="form-group custom-control custom-checkbox pull-left remember-me">
                <input type="checkbox" class="custom-control-input" id="rememberMe" name="loginRememberMe" value="true">
                <label class="custom-control-label" for="rememberMe">
                    Remember me
                </label>
            </div>

            <div class="pull-right forgot-password text-right">
                <a class="d-sm-none" href="/s/RefArch/passwordreset?lang=en_US" title="forgot password?">
                    forgot password?
                </a>

                <a id="password-reset" class="hidden-xs-down" title="forgot password?" data-toggle="modal" href="/on/demandware.store/Sites-RefArch-Site/en_US/Account-PasswordResetDialogForm" data-target="#requestPasswordResetModal"><!-- dwMarker="link" dwPipelineTitle="Account-PasswordResetDialogForm (app_storefront_base)" dwIsController="true" dwPipelineURL="http://localhost:60606/target=/app_storefront_base/cartridge/controllers/Account.js&amp;start=PasswordResetDialogForm" -->
                                                                                                                                                                                                                                         forgot password?
                </a>
            </div>
        </div>

        <input type="hidden" name="csrf_token" value="up6M-lzMqLJGR745Xj1Zg3EUKEFoQkbzbtCLQhRyrxC3GCn7U4WGxEjZcUBgsY3yGBT8vEwlnS3Crg-6SGdnmtNyeu18VN78B1G4ULVQ8-mPRg5zQQw9sbPXn_hTpDwJrbMXdUf1xDntJyMAatb8kf4cMSHTNkCYpASGM9HG08HL0ZAnb5g">



        <template if:false={loggedIn}>
            <button onclick={handleSubmit} type="button" class="btn btn-block btn-primary">
                Login
            </button>
        </template>

        <template if:true={loggedIn}>
            <div class="alert alert-success">
                Logged in Successfully!
            </div>
        </template>

        <template if:true={authError}>
            <div class="alert alert-danger">
                Invalid Credentials!
            </div>
        </template>
    </form>

    <!-- dwMarker="linclude" dwTemplateTitle="/default/account/password/requestPasswordResetModal.isml (app_storefront_base)" dwTemplateURL="http://localhost:60606/target=/app_storefront_base/cartridge/templates/default/account/password/requestPasswordResetModal.isml" -->
    <div class="modal fade" id="requestPasswordResetModal" tabindex="-1" role="dialog" aria-labelledby="requestPasswordResetModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title request-password-title">Forgot your Password</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>

                <div class="modal-body">
                    <!-- dwMarker="linclude" dwTemplateTitle="/default/account/password/passwordResetForm.isml (app_storefront_base)" dwTemplateURL="http://localhost:60606/target=/app_storefront_base/cartridge/templates/default/account/password/passwordResetForm.isml" -->
                    <form class="reset-password-form" action="/on/demandware.store/Sites-RefArch-Site/en_US/Account-PasswordResetDialogForm?mobile=" method="POST" name="email-form" id="email-form"><!-- dwMarker="form" dwPipelineTitle="Account-PasswordResetDialogForm (app_storefront_base)" dwIsController="true" dwPipelineURL="http://localhost:60606/target=/app_storefront_base/cartridge/controllers/Account.js&amp;start=PasswordResetDialogForm" -->
                        <div class="request-password-body">
                            <p>
                                Provide your account email address to receive an email to reset your password.
                            </p>
                            <div class="form-group required">
                                <label class="form-control-label" for="reset-password-email">
                                    Email
                                </label>
                                <input id="reset-password-email" type="email" class="form-control" name="loginEmail" aria-describedby="emailHelp" placeholder="Email">
                                <div class="invalid-feedback"></div>
                            </div>
                        </div>
                        <div class="send-email-btn">
                            <button type="button" id="submitEmailButton" class="btn btn-primary btn-block">
                                Send
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- dwMarker="linclude" dwTemplateTitle="/default/account/components/oauth.isml (app_storefront_base)" dwTemplateURL="http://localhost:60606/target=/app_storefront_base/cartridge/templates/default/account/components/oauth.isml" -->
    <form action="" class="login-oauth" method="post" name="login-oauth-form">
        <div class="form-group">
            <a href="javascript: void 0;" onclick={handleGoogle} class="btn btn-block btn-primary btn-outline-primary oauth-google" role="button" aria-pressed="true"><!-- dwMarker="link" dwPipelineTitle="Login-OAuthLogin (app_storefront_base)" dwIsController="true" dwPipelineURL="http://localhost:60606/target=/app_storefront_base/cartridge/controllers/Login.js&amp;start=OAuthLogin" -->
                <i class="fa fa-google" aria-hidden="true"></i>
                                                                                                                                                                                                                                                                                         Login with Google
            </a>
        </div>
        <div class="form-group">
            <a href="javascript: void 0;" onclick={handleFacebook} class="btn btn-block btn-primary btn-outline-primary oauth-facebook" role="button" aria-pressed="true"><!-- dwMarker="link" dwPipelineTitle="Login-OAuthLogin (app_storefront_base)" dwIsController="true" dwPipelineURL="http://localhost:60606/target=/app_storefront_base/cartridge/controllers/Login.js&amp;start=OAuthLogin" -->
                <i class="fa fa-facebook-official" aria-hidden="true"></i>
            </a>
        </div>
    </form>
</template>